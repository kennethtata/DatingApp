!function(ot){"object"==typeof exports&&typeof module<"u"?module.exports=ot():"function"==typeof define&&define.amd?define([],ot):(typeof window>"u"?typeof global>"u"?typeof self>"u"?this:self:global:window).SimplePeer=ot()}(function(){var ot=Math.floor,st=Math.abs,$=Math.pow;return function k(I,v,l){function S(f,c){if(!v[f]){if(!I[f]){var o="function"==typeof require&&require;if(!c&&o)return o(f,!0);if(L)return L(f,!0);var b=new Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b}var w=v[f]={exports:{}};I[f][0].call(w.exports,function(C){return S(I[f][1][C]||C)},w,w.exports,k,I,v,l)}return v[f].exports}for(var L="function"==typeof require&&require,i=0;i<l.length;i++)S(l[i]);return S}({1:[function(k,I,v){"use strict";function l(a){var u=a.length;if(0<u%4)throw new Error("Invalid string. Length must be a multiple of 4");var p=a.indexOf("=");return-1===p&&(p=u),[p,p===u?0:4-p%4]}function i(a){return o[63&a>>18]+o[63&a>>12]+o[63&a>>6]+o[63&a]}function f(a,u,p){for(var _=[],A=u;A<p;A+=3)_.push(i((16711680&a[A]<<16)+(65280&a[A+1]<<8)+(255&a[A+2])));return _.join("")}v.byteLength=function(a){var u=l(a),h=u[1];return 3*(u[0]+h)/4-h},v.toByteArray=function L(a){var u,p,h=l(a),_=h[0],A=h[1],d=new w(function S(a,u,p){return 3*(u+p)/4-p}(0,_,A)),g=0,O=0<A?_-4:_;for(p=0;p<O;p+=4)u=b[a.charCodeAt(p)]<<18|b[a.charCodeAt(p+1)]<<12|b[a.charCodeAt(p+2)]<<6|b[a.charCodeAt(p+3)],d[g++]=255&u>>16,d[g++]=255&u>>8,d[g++]=255&u;return 2===A&&(u=b[a.charCodeAt(p)]<<2|b[a.charCodeAt(p+1)]>>4,d[g++]=255&u),1===A&&(u=b[a.charCodeAt(p)]<<10|b[a.charCodeAt(p+1)]<<4|b[a.charCodeAt(p+2)]>>2,d[g++]=255&u>>8,d[g++]=255&u),d},v.fromByteArray=function c(a){for(var u,p=a.length,h=p%3,_=[],A=16383,d=0,g=p-h;d<g;d+=A)_.push(f(a,d,d+A>g?g:d+A));return 1===h?_.push(o[(u=a[p-1])>>2]+o[63&u<<4]+"=="):2===h&&_.push(o[(u=(a[p-2]<<8)+a[p-1])>>10]+o[63&u>>4]+o[63&u<<2]+"="),_.join("")};for(var o=[],b=[],w=typeof Uint8Array>"u"?Array:Uint8Array,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0,n=C.length;T<n;++T)o[T]=C[T],b[C.charCodeAt(T)]=T;b[45]=62,b[95]=63},{}],2:[function(){},{}],3:[function(k,I,v){(function(){(function(){"use strict";var l=String.fromCharCode,S=Math.min;function L(t){if(2147483647<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=i.prototype,e}function i(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return b(t)}return f(t,e,r)}function f(t,e,r){if("string"==typeof t)return function w(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!i.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|u(t,e),s=L(r),m=s.write(t,e);return m!==r&&(s=s.slice(0,m)),s}(t,e);if(ArrayBuffer.isView(t))return C(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(y(t,ArrayBuffer)||t&&y(t.buffer,ArrayBuffer))return function T(t,e,r){if(0>e||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var s;return(s=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r)).__proto__=i.prototype,s}(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var s=t.valueOf&&t.valueOf();if(null!=s&&s!==t)return i.from(s,e,r);var m=function n(t){if(i.isBuffer(t)){var e=0|a(t.length),r=L(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0===t.length?"Buffer"===t.type&&Array.isArray(t.data)?C(t.data):void 0:"number"!=typeof t.length||R(t.length)?L(0):C(t)}(t);if(m)return m;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return i.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(0>t)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function b(t){return c(t),L(0>t?0:0|a(t))}function C(t){for(var e=0>t.length?0:0|a(t.length),r=L(e),s=0;s<e;s+=1)r[s]=255&t[s];return r}function a(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function u(t,e){if(i.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,s=2<arguments.length&&!0===arguments[2];if(!s&&0===r)return 0;for(var m=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return et(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(t).length;default:if(m)return s?-1:et(t).length;e=(""+e).toLowerCase(),m=!0}}function p(t,e,r){var s=!1;if((void 0===e||0>e)&&(e=0),e>this.length||((void 0===r||r>this.length)&&(r=this.length),0>=r)||(r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return rt(this,e,r);case"utf8":case"utf-8":return K(this,e,r);case"ascii":return F(this,e,r);case"latin1":case"binary":return yt(this,e,r);case"base64":return q(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,e,r);default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function h(t,e,r){var s=t[e];t[e]=t[r],t[r]=s}function _(t,e,r,s,m){if(0===t.length)return-1;if("string"==typeof r?(s=r,r=0):2147483647<r?r=2147483647:-2147483648>r&&(r=-2147483648),R(r=+r)&&(r=m?0:t.length-1),0>r&&(r=t.length+r),r>=t.length){if(m)return-1;r=t.length-1}else if(0>r){if(!m)return-1;r=0}if("string"==typeof e&&(e=i.from(e,s)),i.isBuffer(e))return 0===e.length?-1:A(t,e,r,s,m);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?m?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):A(t,[e],r,s,m);throw new TypeError("val must be string, number or Buffer")}function A(t,e,r,s,m){function E(gt,lt){return 1===x?gt[lt]:gt.readUInt16BE(lt*x)}var Y,x=1,U=t.length,G=e.length;if(void 0!==s&&("ucs2"===(s=(s+"").toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(2>t.length||2>e.length)return-1;x=2,U/=2,G/=2,r/=2}if(m){var W=-1;for(Y=r;Y<U;Y++)if(E(t,Y)!==E(e,-1===W?0:Y-W))-1!==W&&(Y-=Y-W),W=-1;else if(-1===W&&(W=Y),Y-W+1===G)return W*x}else for(r+G>U&&(r=U-G),Y=r;0<=Y;Y--){for(var H=!0,ut=0;ut<G;ut++)if(E(t,Y+ut)!==E(e,ut)){H=!1;break}if(H)return Y}return-1}function d(t,e,r,s){var m=t.length-(r=+r||0);s?(s=+s)>m&&(s=m):s=m;var E=e.length;s>E/2&&(s=E/2);for(var x,U=0;U<s;++U){if(R(x=parseInt(e.substr(2*U,2),16)))return U;t[r+U]=x}return U}function g(t,e,r,s){return Q(et(e,t.length-r),t,r,s)}function O(t,e,r,s){return Q(function dt(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,s)}function D(t,e,r,s){return O(t,e,r,s)}function P(t,e,r,s){return Q(X(e),t,r,s)}function j(t,e,r,s){return Q(function pt(t,e){for(var r,s,E=[],x=0;x<t.length&&!(0>(e-=2));++x)s=(r=t.charCodeAt(x))>>8,E.push(r%256),E.push(s);return E}(e,t.length-r),t,r,s)}function q(t,e,r){return N.fromByteArray(0===e&&r===t.length?t:t.slice(e,r))}function K(t,e,r){r=S(t.length,r);for(var s=[],m=e;m<r;){var G,Y,W,H,E=t[m],x=null,U=239<E?4:223<E?3:191<E?2:1;m+U<=r&&(1===U?128>E&&(x=E):2===U?128==(192&(G=t[m+1]))&&127<(H=(31&E)<<6|63&G)&&(x=H):3===U?(Y=t[m+2],128==(192&(G=t[m+1]))&&128==(192&Y)&&2047<(H=(15&E)<<12|(63&G)<<6|63&Y)&&(55296>H||57343<H)&&(x=H)):4===U&&(Y=t[m+2],W=t[m+3],128==(192&(G=t[m+1]))&&128==(192&Y)&&128==(192&W)&&65535<(H=(15&E)<<18|(63&G)<<12|(63&Y)<<6|63&W)&&1114112>H&&(x=H))),null===x?(x=65533,U=1):65535<x&&(s.push(55296|1023&(x-=65536)>>>10),x=56320|1023&x),s.push(x),m+=U}return function J(t){var e=t.length;if(e<=4096)return l.apply(String,t);for(var r="",s=0;s<e;)r+=l.apply(String,t.slice(s,s+=4096));return r}(s)}function F(t,e,r){var s="";r=S(t.length,r);for(var m=e;m<r;++m)s+=l(127&t[m]);return s}function yt(t,e,r){var s="";r=S(t.length,r);for(var m=e;m<r;++m)s+=l(t[m]);return s}function rt(t,e,r){var s=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>s)&&(r=s);for(var m="",E=e;E<r;++E)m+=ft(t[E]);return m}function tt(t,e,r){for(var s=t.slice(e,r),m="",E=0;E<s.length;E+=2)m+=l(s[E]+256*s[E+1]);return m}function V(t,e,r){if(t%1!=0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function z(t,e,r,s,m,E){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>m||e<E)throw new RangeError('"value" argument is out of bounds');if(r+s>t.length)throw new RangeError("Index out of range")}function nt(t,e,r,s){if(r+s>t.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}function Z(t,e,r,s,m){return e=+e,r>>>=0,m||nt(t,0,r,4),M.write(t,e,r,s,23,4),r+4}function it(t,e,r,s,m){return e=+e,r>>>=0,m||nt(t,0,r,8),M.write(t,e,r,s,52,8),r+8}function ft(t){return 16>t?"0"+t.toString(16):t.toString(16)}function et(t,e){e=e||1/0;for(var r,s=t.length,m=null,E=[],x=0;x<s;++x){if(55295<(r=t.charCodeAt(x))&&57344>r){if(!m){if(56319<r){-1<(e-=3)&&E.push(239,191,189);continue}if(x+1===s){-1<(e-=3)&&E.push(239,191,189);continue}m=r;continue}if(56320>r){-1<(e-=3)&&E.push(239,191,189),m=r;continue}r=65536+(m-55296<<10|r-56320)}else m&&-1<(e-=3)&&E.push(239,191,189);if(m=null,128>r){if(0>(e-=1))break;E.push(r)}else if(2048>r){if(0>(e-=2))break;E.push(192|r>>6,128|63&r)}else if(65536>r){if(0>(e-=3))break;E.push(224|r>>12,128|63&r>>6,128|63&r)}else{if(!(1114112>r))throw new Error("Invalid code point");if(0>(e-=4))break;E.push(240|r>>18,128|63&r>>12,128|63&r>>6,128|63&r)}}return E}function X(t){return N.toByteArray(function at(t){if(2>(t=(t=t.split("=")[0]).trim().replace(B,"")).length)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Q(t,e,r,s){for(var m=0;m<s&&!(m+r>=e.length||m>=t.length);++m)e[m+r]=t[m];return m}function y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function R(t){return t!=t}var N=k("base64-js"),M=k("ieee754");v.Buffer=i,v.SlowBuffer=function(t){return+t!=t&&(t=0),i.alloc(+t)},v.INSPECT_MAX_BYTES=50,v.kMaxLength=2147483647,(i.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){return i.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){return i.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(t,e,r){return f(t,e,r)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(t,e,r){return function o(t,e,r){return c(t),0>=t||void 0===e?L(t):"string"==typeof r?L(t).fill(e,r):L(t).fill(e)}(t,e,r)},i.allocUnsafe=function(t){return b(t)},i.allocUnsafeSlow=function(t){return b(t)},i.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==i.prototype},i.compare=function(t,e){if(y(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),y(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,s=e.length,m=0,E=S(r,s);m<E;++m)if(t[m]!==e[m]){r=t[m],s=e[m];break}return r<s?-1:s<r?1:0},i.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var s=i.allocUnsafe(e),m=0;for(r=0;r<t.length;++r){var E=t[r];if(y(E,Uint8Array)&&(E=i.from(E)),!i.isBuffer(E))throw new TypeError('"list" argument must be an Array of Buffers');E.copy(s,m),m+=E.length}return s},i.byteLength=u,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},i.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?K(this,0,t):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=v.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},i.prototype.compare=function(t,e,r,s,m){if(y(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===s&&(s=0),void 0===m&&(m=this.length),0>e||r>t.length||0>s||m>this.length)throw new RangeError("out of range index");if(s>=m&&e>=r)return 0;if(s>=m)return-1;if(e>=r)return 1;if(this===t)return 0;for(var E=(m>>>=0)-(s>>>=0),x=(r>>>=0)-(e>>>=0),U=S(E,x),G=this.slice(s,m),Y=t.slice(e,r),W=0;W<U;++W)if(G[W]!==Y[W]){E=G[W],x=Y[W];break}return E<x?-1:x<E?1:0},i.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},i.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},i.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},i.prototype.write=function(t,e,r,s){if(void 0===e)s="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)s=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0)}var m=this.length-e;if((void 0===r||r>m)&&(r=m),0<t.length&&(0>r||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var E=!1;;)switch(s){case"hex":return d(this,t,e,r);case"utf8":case"utf-8":return g(this,t,e,r);case"ascii":return O(this,t,e,r);case"latin1":case"binary":return D(this,t,e,r);case"base64":return P(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,e,r);default:if(E)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),E=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(t,e){var r=this.length;0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t);var s=this.subarray(t,e);return s.__proto__=i.prototype,s},i.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||V(t,e,this.length);for(var s=this[t],m=1,E=0;++E<e&&(m*=256);)s+=this[t+E]*m;return s},i.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||V(t,e,this.length);for(var s=this[t+--e],m=1;0<e&&(m*=256);)s+=this[t+--e]*m;return s},i.prototype.readUInt8=function(t,e){return t>>>=0,e||V(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return t>>>=0,e||V(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return t>>>=0,e||V(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return t>>>=0,e||V(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return t>>>=0,e||V(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||V(t,e,this.length);for(var s=this[t],m=1,E=0;++E<e&&(m*=256);)s+=this[t+E]*m;return s>=(m*=128)&&(s-=$(2,8*e)),s},i.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||V(t,e,this.length);for(var s=e,m=1,E=this[t+--s];0<s&&(m*=256);)E+=this[t+--s]*m;return E>=(m*=128)&&(E-=$(2,8*e)),E},i.prototype.readInt8=function(t,e){return t>>>=0,e||V(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){t>>>=0,e||V(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(t,e){t>>>=0,e||V(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(t,e){return t>>>=0,e||V(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return t>>>=0,e||V(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return t>>>=0,e||V(t,4,this.length),M.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return t>>>=0,e||V(t,4,this.length),M.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return t>>>=0,e||V(t,8,this.length),M.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return t>>>=0,e||V(t,8,this.length),M.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,r,s){t=+t,e>>>=0,r>>>=0,s||z(this,t,e,r,$(2,8*r)-1,0);var E=1,x=0;for(this[e]=255&t;++x<r&&(E*=256);)this[e+x]=255&t/E;return e+r},i.prototype.writeUIntBE=function(t,e,r,s){t=+t,e>>>=0,r>>>=0,s||z(this,t,e,r,$(2,8*r)-1,0);var E=r-1,x=1;for(this[e+E]=255&t;0<=--E&&(x*=256);)this[e+E]=255&t/x;return e+r},i.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,1,255,0),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},i.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeIntLE=function(t,e,r,s){if(t=+t,e>>>=0,!s){var m=$(2,8*r-1);z(this,t,e,r,m-1,-m)}var E=0,x=1,U=0;for(this[e]=255&t;++E<r&&(x*=256);)0>t&&0===U&&0!==this[e+E-1]&&(U=1),this[e+E]=255&(t/x>>0)-U;return e+r},i.prototype.writeIntBE=function(t,e,r,s){if(t=+t,e>>>=0,!s){var m=$(2,8*r-1);z(this,t,e,r,m-1,-m)}var E=r-1,x=1,U=0;for(this[e+E]=255&t;0<=--E&&(x*=256);)0>t&&0===U&&0!==this[e+E+1]&&(U=1),this[e+E]=255&(t/x>>0)-U;return e+r},i.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,1,127,-128),0>t&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},i.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||z(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeFloatLE=function(t,e,r){return Z(this,t,e,!0,r)},i.prototype.writeFloatBE=function(t,e,r){return Z(this,t,e,!1,r)},i.prototype.writeDoubleLE=function(t,e,r){return it(this,t,e,!0,r)},i.prototype.writeDoubleBE=function(t,e,r){return it(this,t,e,!1,r)},i.prototype.copy=function(t,e,r,s){if(!i.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),e>=t.length&&(e=t.length),e||(e=0),0<s&&s<r&&(s=r),s===r||0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("Index out of range");if(0>s)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-e<s-r&&(s=t.length-e+r);var m=s-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,s);else if(this===t&&r<e&&e<s)for(var E=m-1;0<=E;--E)t[E+e]=this[E+r];else Uint8Array.prototype.set.call(t,this.subarray(r,s),e);return m},i.prototype.fill=function(t,e,r,s){if("string"==typeof t){if("string"==typeof e?(s=e,e=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("string"==typeof s&&!i.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(1===t.length){var m=t.charCodeAt(0);("utf8"===s&&128>m||"latin1"===s)&&(t=m)}}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var E;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(E=e;E<r;++E)this[E]=t;else{var x=i.isBuffer(t)?t:i.from(t,s),U=x.length;if(0===U)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(E=0;E<r-e;++E)this[E+e]=x[E%U]}return this};var B=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,k("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(k,I,v){(function(l){(function(){v.formatArgs=function(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+I.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;i.splice(1,0,f,"color: inherit");let c=0,o=0;i[0].replace(/%[a-zA-Z%]/g,b=>{"%%"===b||(c++,"%c"===b&&(o=c))}),i.splice(o,0,f)},v.save=function(i){try{i?v.storage.setItem("debug",i):v.storage.removeItem("debug")}catch{}},v.load=function S(){let i;try{i=v.storage.getItem("debug")}catch{}return!i&&typeof l<"u"&&"env"in l&&(i=l.env.DEBUG),i},v.useColors=function(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},v.storage=function(){try{return localStorage}catch{}}(),v.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),v.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],v.log=console.debug||console.log||(()=>{}),I.exports=k("./common")(v);const{formatters:L}=I.exports;L.j=function(i){try{return JSON.stringify(i)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}).call(this)}).call(this,k("_process"))},{"./common":5,_process:12}],5:[function(k,I){I.exports=function(v){function l(i){function f(...b){if(!f.enabled)return;const w=f,C=+new Date;w.diff=C-(c||C),w.prev=c,w.curr=C,c=C,b[0]=l.coerce(b[0]),"string"!=typeof b[0]&&b.unshift("%O");let n=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(u,p)=>{if("%%"===u)return"%";n++;const h=l.formatters[p];return"function"==typeof h&&(u=h.call(w,b[n]),b.splice(n,1),n--),u}),l.formatArgs.call(w,b),(w.log||l.log).apply(w,b)}let c,o=null;return f.namespace=i,f.useColors=l.useColors(),f.color=l.selectColor(i),f.extend=S,f.destroy=l.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?l.enabled(i):o,set:b=>{o=b}}),"function"==typeof l.init&&l.init(f),f}function S(i,f){const c=l(this.namespace+(typeof f>"u"?":":f)+i);return c.log=this.log,c}function L(i){return i.toString().substring(2,i.toString().length-2).replace(/\.\*\?$/,"*")}return l.debug=l,l.default=l,l.coerce=function(i){return i instanceof Error?i.stack||i.message:i},l.disable=function(){const i=[...l.names.map(L),...l.skips.map(L).map(f=>"-"+f)].join(",");return l.enable(""),i},l.enable=function(i){let f;l.save(i),l.names=[],l.skips=[];const c=("string"==typeof i?i:"").split(/[\s,]+/),o=c.length;for(f=0;f<o;f++)c[f]&&("-"===(i=c[f].replace(/\*/g,".*?"))[0]?l.skips.push(new RegExp("^"+i.substr(1)+"$")):l.names.push(new RegExp("^"+i+"$")))},l.enabled=function(i){if("*"===i[i.length-1])return!0;let f,c;for(f=0,c=l.skips.length;f<c;f++)if(l.skips[f].test(i))return!1;for(f=0,c=l.names.length;f<c;f++)if(l.names[f].test(i))return!0;return!1},l.humanize=k("ms"),l.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(v).forEach(i=>{l[i]=v[i]}),l.names=[],l.skips=[],l.formatters={},l.selectColor=function(i){let f=0;for(let c=0;c<i.length;c++)f=(f<<5)-f+i.charCodeAt(c),f|=0;return l.colors[st(f)%l.colors.length]},l.enable(l.load()),l}},{ms:11}],6:[function(k,I){"use strict";function v(l,S){for(const L in S)Object.defineProperty(l,L,{value:S[L],enumerable:!0,configurable:!0});return l}I.exports=function(l,S,L){if(!l||"string"==typeof l)throw new TypeError("Please pass an Error to err-code");L||(L={}),"object"==typeof S&&(L=S,S=""),S&&(L.code=S);try{return v(l,L)}catch{L.message=l.message,L.stack=l.stack;const f=function(){};return f.prototype=Object.create(Object.getPrototypeOf(l)),v(new f,L)}}},{}],7:[function(k,I){"use strict";function l(){l.init.call(this)}function S(d){if("function"!=typeof d)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof d)}function L(d){return void 0===d._maxListeners?l.defaultMaxListeners:d._maxListeners}function i(d,g,O,D){var P,j,q;if(S(O),void 0===(j=d._events)?(j=d._events=Object.create(null),d._eventsCount=0):(void 0!==j.newListener&&(d.emit("newListener",g,O.listener?O.listener:O),j=d._events),q=j[g]),void 0===q)q=j[g]=O,++d._eventsCount;else if("function"==typeof q?q=j[g]=D?[O,q]:[q,O]:D?q.unshift(O):q.push(O),0<(P=L(d))&&q.length>P&&!q.warned){q.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+g+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=d,K.type=g,K.count=q.length,function v(d){console&&console.warn&&console.warn(d)}(K)}return d}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(d,g,O){var D={fired:!1,wrapFn:void 0,target:d,type:g,listener:O},P=f.bind(D);return P.listener=O,D.wrapFn=P,P}function o(d,g,O){var D=d._events;if(void 0===D)return[];var P=D[g];return void 0===P?[]:"function"==typeof P?O?[P.listener||P]:[P]:O?function T(d){for(var g=Array(d.length),O=0;O<g.length;++O)g[O]=d[O].listener||d[O];return g}(P):w(P,P.length)}function b(d){var g=this._events;if(void 0!==g){var O=g[d];if("function"==typeof O)return 1;if(void 0!==O)return O.length}return 0}function w(d,g){for(var O=Array(g),D=0;D<g;++D)O[D]=d[D];return O}function a(d,g,O,D){if("function"==typeof d.on)D.once?d.once(g,O):d.on(g,O);else{if("function"!=typeof d.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof d);d.addEventListener(g,function P(j){D.once&&d.removeEventListener(g,P),O(j)})}}var u,p="object"==typeof Reflect?Reflect:null,h=p&&"function"==typeof p.apply?p.apply:function(d,g,O){return Function.prototype.apply.call(d,g,O)};u=p&&"function"==typeof p.ownKeys?p.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:function(d){return Object.getOwnPropertyNames(d)};var _=Number.isNaN||function(d){return d!=d};I.exports=l,I.exports.once=function(d,g){return new Promise(function(O,D){function P(q){d.removeListener(g,j),D(q)}function j(){"function"==typeof d.removeListener&&d.removeListener("error",P),O([].slice.call(arguments))}a(d,g,j,{once:!0}),"error"!==g&&function n(d,g,O){"function"==typeof d.on&&a(d,"error",g,O)}(d,P,{once:!0})})},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var A=10;Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(d){if("number"!=typeof d||0>d||_(d))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+d+".");A=d}}),l.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(d){if("number"!=typeof d||0>d||_(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this},l.prototype.getMaxListeners=function(){return L(this)},l.prototype.emit=function(d){for(var g=[],O=1;O<arguments.length;O++)g.push(arguments[O]);var D="error"===d,P=this._events;if(void 0!==P)D=D&&void 0===P.error;else if(!D)return!1;if(D){var j;if(0<g.length&&(j=g[0]),j instanceof Error)throw j;var q=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw q.context=j,q}var K=P[d];if(void 0===K)return!1;if("function"==typeof K)h(K,this,g);else{var J=K.length,F=w(K,J);for(O=0;O<J;++O)h(F[O],this,g)}return!0},l.prototype.on=l.prototype.addListener=function(d,g){return i(this,d,g,!1)},l.prototype.prependListener=function(d,g){return i(this,d,g,!0)},l.prototype.once=function(d,g){return S(g),this.on(d,c(this,d,g)),this},l.prototype.prependOnceListener=function(d,g){return S(g),this.prependListener(d,c(this,d,g)),this},l.prototype.off=l.prototype.removeListener=function(d,g){var O,D,P,j,q;if(S(g),void 0===(D=this._events))return this;if(void 0===(O=D[d]))return this;if(O===g||O.listener===g)0==--this._eventsCount?this._events=Object.create(null):(delete D[d],D.removeListener&&this.emit("removeListener",d,O.listener||g));else if("function"!=typeof O){for(P=-1,j=O.length-1;0<=j;j--)if(O[j]===g||O[j].listener===g){q=O[j].listener,P=j;break}if(0>P)return this;0===P?O.shift():function C(d,g){for(;g+1<d.length;g++)d[g]=d[g+1];d.pop()}(O,P),1===O.length&&(D[d]=O[0]),void 0!==D.removeListener&&this.emit("removeListener",d,q||g)}return this},l.prototype.removeAllListeners=function(d){var g,O,D;if(void 0===(O=this._events))return this;if(void 0===O.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==O[d]&&(0==--this._eventsCount?this._events=Object.create(null):delete O[d]),this;if(0===arguments.length){var P,j=Object.keys(O);for(D=0;D<j.length;++D)"removeListener"!==(P=j[D])&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(g=O[d]))this.removeListener(d,g);else if(void 0!==g)for(D=g.length-1;0<=D;D--)this.removeListener(d,g[D]);return this},l.prototype.listeners=function(d){return o(this,d,!0)},l.prototype.rawListeners=function(d){return o(this,d,!1)},l.listenerCount=function(d,g){return"function"==typeof d.listenerCount?d.listenerCount(g):b.call(d,g)},l.prototype.listenerCount=b,l.prototype.eventNames=function(){return 0<this._eventsCount?u(this._events):[]}},{}],8:[function(k,I){I.exports=function(){if(typeof globalThis>"u")return null;var v={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return v.RTCPeerConnection?v:null}},{}],9:[function(k,I,v){v.read=function(l,S,L,i,f){var c,o,b=8*f-i-1,w=(1<<b)-1,C=w>>1,T=-7,n=L?f-1:0,a=L?-1:1,u=l[S+n];for(n+=a,c=u&(1<<-T)-1,u>>=-T,T+=b;0<T;c=256*c+l[S+n],n+=a,T-=8);for(o=c&(1<<-T)-1,c>>=-T,T+=i;0<T;o=256*o+l[S+n],n+=a,T-=8);if(0===c)c=1-C;else{if(c===w)return o?NaN:1/0*(u?-1:1);o+=$(2,i),c-=C}return(u?-1:1)*o*$(2,c-i)},v.write=function(l,S,L,i,f,c){var o,b,w,C=Math.LN2,T=Math.log,n=8*c-f-1,a=(1<<n)-1,u=a>>1,p=23===f?$(2,-24)-$(2,-77):0,h=i?0:c-1,_=i?1:-1,A=0>S||0===S&&0>1/S?1:0;for(S=st(S),isNaN(S)||S===1/0?(b=isNaN(S)?1:0,o=a):(o=ot(T(S)/C),1>S*(w=$(2,-o))&&(o--,w*=2),2<=(S+=1<=o+u?p/w:p*$(2,1-u))*w&&(o++,w/=2),o+u>=a?(b=0,o=a):1<=o+u?(b=(S*w-1)*$(2,f),o+=u):(b=S*$(2,u-1)*$(2,f),o=0));8<=f;l[L+h]=255&b,h+=_,b/=256,f-=8);for(o=o<<f|b,n+=f;0<n;l[L+h]=255&o,h+=_,o/=256,n-=8);l[L+h-_]|=128*A}},{}],10:[function(k,I){I.exports="function"==typeof Object.create?function(v,l){l&&(v.super_=l,v.prototype=Object.create(l.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}))}:function(v,l){if(l){v.super_=l;var S=function(){};S.prototype=l.prototype,v.prototype=new S,v.prototype.constructor=v}}},{}],11:[function(k,I){var v=Math.round;function i(c,o,b,w){return v(c/b)+" "+w+(o>=1.5*b?"s":"")}I.exports=function(c,o){o=o||{};var b=typeof c;if("string"==b&&0<c.length)return function l(c){if(!(100<(c+="").length)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(o){var b=parseFloat(o[1]),w=(o[2]||"ms").toLowerCase();return"years"===w||"year"===w||"yrs"===w||"yr"===w||"y"===w?315576e5*b:"weeks"===w||"week"===w||"w"===w?6048e5*b:"days"===w||"day"===w||"d"===w?864e5*b:"hours"===w||"hour"===w||"hrs"===w||"hr"===w||"h"===w?36e5*b:"minutes"===w||"minute"===w||"mins"===w||"min"===w||"m"===w?6e4*b:"seconds"===w||"second"===w||"secs"===w||"sec"===w||"s"===w?1e3*b:"milliseconds"===w||"millisecond"===w||"msecs"===w||"msec"===w||"ms"===w?b:void 0}}}(c);if("number"===b&&isFinite(c))return o.long?function L(c){var o=st(c);return 864e5<=o?i(c,o,864e5,"day"):36e5<=o?i(c,o,36e5,"hour"):6e4<=o?i(c,o,6e4,"minute"):1e3<=o?i(c,o,1e3,"second"):c+" ms"}(c):function S(c){var o=st(c);return 864e5<=o?v(c/864e5)+"d":36e5<=o?v(c/36e5)+"h":6e4<=o?v(c/6e4)+"m":1e3<=o?v(c/1e3)+"s":c+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))}},{}],12:[function(k,I){function v(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function S(p){if(b===setTimeout)return setTimeout(p,0);if((b===v||!b)&&setTimeout)return b=setTimeout,setTimeout(p,0);try{return b(p,0)}catch{try{return b.call(null,p,0)}catch{return b.call(this,p,0)}}}function i(){a&&T&&(a=!1,T.length?n=T.concat(n):u=-1,n.length&&f())}function f(){if(!a){var p=S(i);a=!0;for(var h=n.length;h;){for(T=n,n=[];++u<h;)T&&T[u].run();u=-1,h=n.length}T=null,a=!1,function L(p){if(w===clearTimeout)return clearTimeout(p);if((w===l||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(p);try{w(p)}catch{try{return w.call(null,p)}catch{return w.call(this,p)}}}(p)}}function c(p,h){this.fun=p,this.array=h}function o(){}var b,w,C=I.exports={};!function(){try{b="function"==typeof setTimeout?setTimeout:v}catch{b=v}try{w="function"==typeof clearTimeout?clearTimeout:l}catch{w=l}}();var T,n=[],a=!1,u=-1;C.nextTick=function(p){var h=Array(arguments.length-1);if(1<arguments.length)for(var _=1;_<arguments.length;_++)h[_-1]=arguments[_];n.push(new c(p,h)),1!==n.length||a||S(f)},c.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=o,C.addListener=o,C.once=o,C.off=o,C.removeListener=o,C.removeAllListeners=o,C.emit=o,C.prependListener=o,C.prependOnceListener=o,C.listeners=function(){return[]},C.binding=function(){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},{}],13:[function(k,I){(function(v){(function(){let l;I.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window>"u"?v:window):S=>(l||(l=Promise.resolve())).then(S).catch(L=>setTimeout(()=>{throw L},0))}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],14:[function(k,I){(function(v,l){(function(){"use strict";var S=k("safe-buffer").Buffer,L=l.crypto||l.msCrypto;I.exports=L&&L.getRandomValues?function(i,f){if(i>4294967295)throw new RangeError("requested too many random bytes");var c=S.allocUnsafe(i);if(0<i)if(65536<i)for(var o=0;o<i;o+=65536)L.getRandomValues(c.slice(o,o+65536));else L.getRandomValues(c);return"function"==typeof f?v.nextTick(function(){f(null,c)}):c}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,k("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:12,"safe-buffer":30}],15:[function(k,I){"use strict";function l(o,b,w){w||(w=Error);var T=function(n){function a(u,p,h){return n.call(this,function C(n,a,u){return"string"==typeof b?b:b(n,a,u)}(u,p,h))||this}return function v(o,b){o.prototype=Object.create(b.prototype),o.prototype.constructor=o,o.__proto__=b}(a,n),a}(w);T.prototype.name=w.name,T.prototype.code=o,c[o]=T}function S(o,b){if(Array.isArray(o)){var w=o.length;return o=o.map(function(C){return C+""}),2<w?"one of ".concat(b," ").concat(o.slice(0,w-1).join(", "),", or ")+o[w-1]:2===w?"one of ".concat(b," ").concat(o[0]," or ").concat(o[1]):"of ".concat(b," ").concat(o[0])}return"of ".concat(b," ").concat(o+"")}var c={};l("ERR_INVALID_OPT_VALUE",function(o,b){return'The value "'+b+'" is invalid for option "'+o+'"'},TypeError),l("ERR_INVALID_ARG_TYPE",function(o,b,w){var C,T;if("string"==typeof b&&function L(o,b,w){return o.substr(!w||0>w?0:+w,b.length)===b}(b,"not ")?(C="must not be",b=b.replace(/^not /,"")):C="must be",function i(o,b,w){return(void 0===w||w>o.length)&&(w=o.length),o.substring(w-b.length,w)===b}(o," argument"))T="The ".concat(o," ").concat(C," ").concat(S(b,"type"));else{var n=function f(o,b,w){return"number"!=typeof w&&(w=0),!(w+b.length>o.length)&&-1!==o.indexOf(b,w)}(o,".")?"property":"argument";T='The "'.concat(o,'" ').concat(n," ").concat(C," ").concat(S(b,"type"))}return T+". Received type ".concat(typeof w)},TypeError),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),l("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),l("ERR_STREAM_PREMATURE_CLOSE","Premature close"),l("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),l("ERR_STREAM_WRITE_AFTER_END","write after end"),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),I.exports.codes=c},{}],16:[function(k,I){(function(v){(function(){"use strict";function l(C){return this instanceof l?(f.call(this,C),c.call(this,C),this.allowHalfOpen=!0,void(C&&(!1===C.readable&&(this.readable=!1),!1===C.writable&&(this.writable=!1),!1===C.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",S))))):new l(C)}function S(){this._writableState.ended||v.nextTick(L,this)}function L(C){C.end()}var i=Object.keys||function(C){var T=[];for(var n in C)T.push(n);return T};I.exports=l;var f=k("./_stream_readable"),c=k("./_stream_writable");k("inherits")(l,f);for(var o,b=i(c.prototype),w=0;w<b.length;w++)l.prototype[o=b[w]]||(l.prototype[o]=c.prototype[o]);Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(C){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=C,this._writableState.destroyed=C)}})}).call(this)}).call(this,k("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(k,I){"use strict";function v(S){return this instanceof v?void l.call(this,S):new v(S)}I.exports=v;var l=k("./_stream_transform");k("inherits")(v,l),v.prototype._transform=function(S,L,i){i(null,S)}},{"./_stream_transform":19,inherits:10}],18:[function(k,I){(function(v,l){(function(){"use strict";function f(t,e,r){J=J||k("./_stream_duplex"),"boolean"!=typeof r&&(r=e instanceof J),this.objectMode=!!(t=t||{}).objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=pt(this,t,"readableHighWaterMark",r),this.buffer=new ft,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(!Z&&(Z=k("string_decoder/").StringDecoder),this.decoder=new Z(t.encoding),this.encoding=t.encoding)}function c(t){if(J=J||k("./_stream_duplex"),!(this instanceof c))return new c(t);this._readableState=new f(t,this,this instanceof J),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),tt.call(this)}function o(t,e,r,s,m){F("readableAddChunk",e);var x,E=t._readableState;if(null===e)E.reading=!1,function n(t,e){if(F("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?a(t):(e.needReadable=!1,!e.emittedReadable&&(e.emittedReadable=!0,u(t)))}}(t,E);else if(m||(x=function w(t,e){var r;return function L(t){return V.isBuffer(t)||t instanceof z}(e)||"string"==typeof e||void 0===e||t.objectMode||(r=new Q("chunk",["string","Buffer","Uint8Array"],e)),r}(E,e)),x)M(t,x);else if(E.objectMode||e&&0<e.length)if("string"==typeof e||E.objectMode||Object.getPrototypeOf(e)===V.prototype||(e=function S(t){return V.from(t)}(e)),s)E.endEmitted?M(t,new N):b(t,E,e,!0);else if(E.ended)M(t,new y);else{if(E.destroyed)return!1;E.reading=!1,E.decoder&&!r?(e=E.decoder.write(e),E.objectMode||0!==e.length?b(t,E,e,!1):p(t,E)):b(t,E,e,!1)}else s||(E.reading=!1,p(t,E));return!E.ended&&(E.length<E.highWaterMark||0===E.length)}function b(t,e,r,s){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,s?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&a(t)),p(t,e)}function T(t,e){return 0>=t||0===e.length&&e.ended?0:e.objectMode?1:t==t?(t>e.highWaterMark&&(e.highWaterMark=function C(t){return 1073741824<=t?t=1073741824:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0)):e.flowing&&e.length?e.buffer.head.data.length:e.length}function a(t){var e=t._readableState;F("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(F("emitReadable",e.flowing),e.emittedReadable=!0,v.nextTick(u,t))}function u(t){var e=t._readableState;F("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,D(t)}function p(t,e){e.readingMore||(e.readingMore=!0,v.nextTick(h,t,e))}function h(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(F("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function A(t){var e=t._readableState;e.readableListening=0<t.listenerCount("readable"),e.resumeScheduled&&!e.paused?e.flowing=!0:0<t.listenerCount("data")&&t.resume()}function d(t){F("readable nexttick read 0"),t.read(0)}function O(t,e){F("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),D(t),e.flowing&&!e.reading&&t.read(0)}function D(t){var e=t._readableState;for(F("flow",e.flowing);e.flowing&&null!==t.read(););}function P(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function j(t){var e=t._readableState;F("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,v.nextTick(q,e,t))}function q(t,e){if(F("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function K(t,e){for(var r=0,s=t.length;r<s;r++)if(t[r]===e)return r;return-1}var J;I.exports=c,c.ReadableState=f,k("events");var F,rt=function(t,e){return t.listeners(e).length},tt=k("./internal/streams/stream"),V=k("buffer").Buffer,z=l.Uint8Array||function(){},nt=k("util");F=nt&&nt.debuglog?nt.debuglog("stream"):function(){};var Z,it,at,ft=k("./internal/streams/buffer_list"),et=k("./internal/streams/destroy"),pt=k("./internal/streams/state").getHighWaterMark,X=k("../errors").codes,Q=X.ERR_INVALID_ARG_TYPE,y=X.ERR_STREAM_PUSH_AFTER_EOF,R=X.ERR_METHOD_NOT_IMPLEMENTED,N=X.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;k("inherits")(c,tt);var M=et.errorOrDestroy,B=["error","close","destroy","pause","resume"];Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),c.prototype.destroy=et.destroy,c.prototype._undestroy=et.undestroy,c.prototype._destroy=function(t,e){e(t)},c.prototype.push=function(t,e){var r,s=this._readableState;return s.objectMode?r=!0:"string"==typeof t&&((e=e||s.defaultEncoding)!==s.encoding&&(t=V.from(t,e),e=""),r=!0),o(this,t,e,!1,r)},c.prototype.unshift=function(t){return o(this,t,null,!0,!1)},c.prototype.isPaused=function(){return!1===this._readableState.flowing},c.prototype.setEncoding=function(t){Z||(Z=k("string_decoder/").StringDecoder);var e=new Z(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,s="";null!==r;)s+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==s&&this._readableState.buffer.push(s),this._readableState.length=s.length,this},c.prototype.read=function(t){F("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0===e.highWaterMark?0<e.length:e.length>=e.highWaterMark)||e.ended))return F("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):a(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&j(this),null;var m,s=e.needReadable;return F("need readable",s),(0===e.length||e.length-t<e.highWaterMark)&&F("length less than watermark",s=!0),e.ended||e.reading?F("reading or ended",s=!1):s&&(F("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,!e.reading&&(t=T(r,e))),null===(m=0<t?P(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(!e.ended&&(e.needReadable=!0),r!==t&&e.ended&&j(this)),null!==m&&this.emit("data",m),m},c.prototype._read=function(){M(this,new R("_read()"))},c.prototype.pipe=function(t,e){function s(){F("onend"),t.end()}function E(ht){F("ondata");var ct=t.write(ht);F("dest.write",ct),!1===ct&&((1===H.pipesCount&&H.pipes===t||1<H.pipesCount&&-1!==K(H.pipes,t))&&!bt&&(F("false write response, pause",H.awaitDrain),H.awaitDrain++),W.pause())}function x(ht){F("onerror",ht),Y(),t.removeListener("error",x),0===rt(t,"error")&&M(t,ht)}function U(){t.removeListener("finish",G),Y()}function G(){F("onfinish"),t.removeListener("close",U),Y()}function Y(){F("unpipe"),W.unpipe(t)}var W=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=t;break;case 1:H.pipes=[H.pipes,t];break;default:H.pipes.push(t)}H.pipesCount+=1,F("pipe count=%d opts=%j",H.pipesCount,e);var gt=e&&!1===e.end||t===v.stdout||t===v.stderr?Y:s;H.endEmitted?v.nextTick(gt):W.once("end",gt),t.on("unpipe",function r(ht,ct){F("onunpipe"),ht===W&&ct&&!1===ct.hasUnpiped&&(ct.hasUnpiped=!0,function m(){F("cleanup"),t.removeListener("close",U),t.removeListener("finish",G),t.removeListener("drain",lt),t.removeListener("error",x),t.removeListener("unpipe",r),W.removeListener("end",s),W.removeListener("end",Y),W.removeListener("data",E),bt=!0,H.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&lt()}())});var lt=function _(t){return function(){var e=t._readableState;F("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&rt(t,"data")&&(e.flowing=!0,D(t))}}(W);t.on("drain",lt);var bt=!1;return W.on("data",E),function i(t,e,r){"function"==typeof t.prependListener?t.prependListener(e,r):t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",x),t.once("close",U),t.once("finish",G),t.emit("pipe",W),H.flowing||(F("pipe resume"),W.resume()),t},c.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var s=e.pipes,m=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var E=0;E<m;E++)s[E].emit("unpipe",this,{hasUnpiped:!1});return this}var x=K(e.pipes,t);return-1===x||(e.pipes.splice(x,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},c.prototype.addListener=c.prototype.on=function(t,e){var r=tt.prototype.on.call(this,t,e),s=this._readableState;return"data"===t?(s.readableListening=0<this.listenerCount("readable"),!1!==s.flowing&&this.resume()):"readable"==t&&!s.endEmitted&&!s.readableListening&&(s.readableListening=s.needReadable=!0,s.flowing=!1,s.emittedReadable=!1,F("on readable",s.length,s.reading),s.length?a(this):!s.reading&&v.nextTick(d,this)),r},c.prototype.removeListener=function(t,e){var r=tt.prototype.removeListener.call(this,t,e);return"readable"===t&&v.nextTick(A,this),r},c.prototype.removeAllListeners=function(t){var e=tt.prototype.removeAllListeners.apply(this,arguments);return("readable"===t||void 0===t)&&v.nextTick(A,this),e},c.prototype.resume=function(){var t=this._readableState;return t.flowing||(F("resume"),t.flowing=!t.readableListening,function g(t,e){e.resumeScheduled||(e.resumeScheduled=!0,v.nextTick(O,t,e))}(this,t)),t.paused=!1,this},c.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},c.prototype.wrap=function(t){var e=this,r=this._readableState,s=!1;for(var m in t.on("end",function(){if(F("wrapped end"),r.decoder&&!r.ended){var x=r.decoder.end();x&&x.length&&e.push(x)}e.push(null)}),t.on("data",function(x){F("wrapped data"),r.decoder&&(x=r.decoder.write(x)),r.objectMode&&null==x||!(r.objectMode||x&&x.length)||e.push(x)||(s=!0,t.pause())}),t)void 0===this[m]&&"function"==typeof t[m]&&(this[m]=function(x){return function(){return t[x].apply(t,arguments)}}(m));for(var E=0;E<B.length;E++)t.on(B[E],this.emit.bind(this,B[E]));return this._read=function(x){F("wrapped _read",x),s&&(s=!1,t.resume())},this},"function"==typeof Symbol&&(c.prototype[Symbol.asyncIterator]=function(){return void 0===it&&(it=k("./internal/streams/async_iterator")),it(this)}),Object.defineProperty(c.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(c.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(c.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),c._fromList=P,Object.defineProperty(c.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(c.from=function(t,e){return void 0===at&&(at=k("./internal/streams/from")),at(c,t,e)})}).call(this)}).call(this,k("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(k,I){"use strict";function v(C,T){var n=this._transformState;n.transforming=!1;var a=n.writecb;if(null===a)return this.emit("error",new c);n.writechunk=null,n.writecb=null,null!=T&&this.push(T),a(C);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function l(C){return this instanceof l?(w.call(this,C),this._transformState={afterTransform:v.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,C&&("function"==typeof C.transform&&(this._transform=C.transform),"function"==typeof C.flush&&(this._flush=C.flush)),void this.on("prefinish",S)):new l(C)}function S(){var C=this;"function"!=typeof this._flush||this._readableState.destroyed?L(this,null,null):this._flush(function(T,n){L(C,T,n)})}function L(C,T,n){if(T)return C.emit("error",T);if(null!=n&&C.push(n),C._writableState.length)throw new b;if(C._transformState.transforming)throw new o;return C.push(null)}I.exports=l;var i=k("../errors").codes,f=i.ERR_METHOD_NOT_IMPLEMENTED,c=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=i.ERR_TRANSFORM_WITH_LENGTH_0,w=k("./_stream_duplex");k("inherits")(l,w),l.prototype.push=function(C,T){return this._transformState.needTransform=!1,w.prototype.push.call(this,C,T)},l.prototype._transform=function(C,T,n){n(new f("_transform()"))},l.prototype._write=function(C,T,n){var a=this._transformState;if(a.writecb=n,a.writechunk=C,a.writeencoding=T,!a.transforming){var u=this._readableState;(a.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}},l.prototype._read=function(){var C=this._transformState;null===C.writechunk||C.transforming?C.needTransform=!0:(C.transforming=!0,this._transform(C.writechunk,C.writeencoding,C.afterTransform))},l.prototype._destroy=function(C,T){w.prototype._destroy.call(this,C,function(n){T(n)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(k,I){(function(v,l){(function(){"use strict";function S(y){var R=this;this.next=null,this.entry=null,this.finish=function(){!function j(y,R,N){var M=y.entry;for(y.entry=null;M;){var B=M.callback;R.pendingcb--,B(N),M=M.next}R.corkedRequestsFree.next=y}(R,y)}}function f(){}function c(y,R,N){q=q||k("./_stream_duplex"),"boolean"!=typeof N&&(N=R instanceof q),this.objectMode=!!(y=y||{}).objectMode,N&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=V(this,y,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===y.decodeStrings),this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(B){!function p(y,R){var N=y._writableState,M=N.sync,B=N.writecb;if("function"!=typeof B)throw new it;if(function u(y){y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0}(N),R)!function a(y,R,N,M,B){--R.pendingcb,N?(v.nextTick(B,M),v.nextTick(D,y,R),y._writableState.errorEmitted=!0,X(y,M)):(B(M),y._writableState.errorEmitted=!0,X(y,M),D(y,R))}(y,N,M,R,B);else{var t=d(N)||y.destroyed;t||N.corked||N.bufferProcessing||!N.bufferedRequest||A(y,N),M?v.nextTick(h,y,N,t,B):h(y,N,t,B)}}(R,B)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==y.emitClose,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new S(this)}function o(y){var R=this instanceof(q=q||k("./_stream_duplex"));return R||Q.call(o,this)?(this._writableState=new c(y,this,R),this.writable=!0,y&&("function"==typeof y.write&&(this._write=y.write),"function"==typeof y.writev&&(this._writev=y.writev),"function"==typeof y.destroy&&(this._destroy=y.destroy),"function"==typeof y.final&&(this._final=y.final)),void J.call(this)):new o(y)}function n(y,R,N,M,B,t,e){R.writelen=M,R.writecb=e,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new ft("write")):N?y._writev(B,R.onwrite):y._write(B,t,R.onwrite),R.sync=!1}function h(y,R,N,M){N||function _(y,R){0===R.length&&R.needDrain&&(R.needDrain=!1,y.emit("drain"))}(y,R),R.pendingcb--,M(),D(y,R)}function A(y,R){R.bufferProcessing=!0;var N=R.bufferedRequest;if(y._writev&&N&&N.next){var B=Array(R.bufferedRequestCount),t=R.corkedRequestsFree;t.entry=N;for(var e=0,r=!0;N;)B[e]=N,N.isBuf||(r=!1),N=N.next,e+=1;B.allBuffers=r,n(y,R,!0,R.length,B,"",t.finish),R.pendingcb++,R.lastBufferedRequest=null,t.next?(R.corkedRequestsFree=t.next,t.next=null):R.corkedRequestsFree=new S(R),R.bufferedRequestCount=0}else{for(;N;){var s=N.chunk;if(n(y,R,!1,R.objectMode?1:s.length,s,N.encoding,N.callback),N=N.next,R.bufferedRequestCount--,R.writing)break}null===N&&(R.lastBufferedRequest=null)}R.bufferedRequest=N,R.bufferProcessing=!1}function d(y){return y.ending&&0===y.length&&null===y.bufferedRequest&&!y.finished&&!y.writing}function g(y,R){y._final(function(N){R.pendingcb--,N&&X(y,N),R.prefinished=!0,y.emit("prefinish"),D(y,R)})}function D(y,R){var N=d(R);if(N&&(function O(y,R){R.prefinished||R.finalCalled||("function"!=typeof y._final||R.destroyed?(R.prefinished=!0,y.emit("prefinish")):(R.pendingcb++,R.finalCalled=!0,v.nextTick(g,y,R)))}(y,R),0===R.pendingcb&&(R.finished=!0,y.emit("finish"),R.autoDestroy))){var M=y._readableState;(!M||M.autoDestroy&&M.endEmitted)&&y.destroy()}return N}var q;I.exports=o,o.WritableState=c;var Q,K={deprecate:k("util-deprecate")},J=k("./internal/streams/stream"),F=k("buffer").Buffer,yt=l.Uint8Array||function(){},rt=k("./internal/streams/destroy"),V=k("./internal/streams/state").getHighWaterMark,z=k("../errors").codes,nt=z.ERR_INVALID_ARG_TYPE,Z=z.ERR_METHOD_NOT_IMPLEMENTED,it=z.ERR_MULTIPLE_CALLBACK,at=z.ERR_STREAM_CANNOT_PIPE,ft=z.ERR_STREAM_DESTROYED,et=z.ERR_STREAM_NULL_VALUES,dt=z.ERR_STREAM_WRITE_AFTER_END,pt=z.ERR_UNKNOWN_ENCODING,X=rt.errorOrDestroy;k("inherits")(o,J),c.prototype.getBuffer=function(){for(var y=this.bufferedRequest,R=[];y;)R.push(y),y=y.next;return R},function(){try{Object.defineProperty(c.prototype,"buffer",{get:K.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Q=Function.prototype[Symbol.hasInstance],Object.defineProperty(o,Symbol.hasInstance,{value:function(y){return!!Q.call(this,y)||this===o&&y&&y._writableState instanceof c}})):Q=function(y){return y instanceof this},o.prototype.pipe=function(){X(this,new at)},o.prototype.write=function(y,R,N){var M=this._writableState,B=!1,t=!M.objectMode&&function i(y){return F.isBuffer(y)||y instanceof yt}(y);return t&&!F.isBuffer(y)&&(y=function L(y){return F.from(y)}(y)),"function"==typeof R&&(N=R,R=null),t?R="buffer":!R&&(R=M.defaultEncoding),"function"!=typeof N&&(N=f),M.ending?function b(y,R){var N=new dt;X(y,N),v.nextTick(R,N)}(this,N):(t||function w(y,R,N,M){var B;return null===N?B=new et:"string"!=typeof N&&!R.objectMode&&(B=new nt("chunk",["string","Buffer"],N)),!B||(X(y,B),v.nextTick(M,B),!1)}(this,M,y,N))&&(M.pendingcb++,B=function T(y,R,N,M,B,t){if(!N){var e=function C(y,R,N){return y.objectMode||!1===y.decodeStrings||"string"!=typeof R||(R=F.from(R,N)),R}(R,M,B);M!==e&&(N=!0,B="buffer",M=e)}var r=R.objectMode?1:M.length;R.length+=r;var s=R.length<R.highWaterMark;if(s||(R.needDrain=!0),R.writing||R.corked){var m=R.lastBufferedRequest;R.lastBufferedRequest={chunk:M,encoding:B,isBuf:N,callback:t,next:null},m?m.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else n(y,R,!1,r,M,B,t);return s}(this,M,t,y,R,N)),B},o.prototype.cork=function(){this._writableState.corked++},o.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,!y.writing&&!y.corked&&!y.bufferProcessing&&y.bufferedRequest&&A(this,y))},o.prototype.setDefaultEncoding=function(y){if("string"==typeof y&&(y=y.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((y+"").toLowerCase())))throw new pt(y);return this._writableState.defaultEncoding=y,this},Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),o.prototype._write=function(y,R,N){N(new Z("_write()"))},o.prototype._writev=null,o.prototype.end=function(y,R,N){var M=this._writableState;return"function"==typeof y?(N=y,y=null,R=null):"function"==typeof R&&(N=R,R=null),null!=y&&this.write(y,R),M.corked&&(M.corked=1,this.uncork()),M.ending||function P(y,R,N){R.ending=!0,D(y,R),N&&(R.finished?v.nextTick(N):y.once("finish",N)),R.ended=!0,y.writable=!1}(this,M,N),this},Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(y){this._writableState&&(this._writableState.destroyed=y)}}),o.prototype.destroy=rt.destroy,o.prototype._undestroy=rt.undestroy,o.prototype._destroy=function(y,R){R(y)}}).call(this)}).call(this,k("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(k,I){(function(v){(function(){"use strict";function l(_,A,d){return A in _?Object.defineProperty(_,A,{value:d,enumerable:!0,configurable:!0,writable:!0}):_[A]=d,_}function S(_,A){return{value:_,done:A}}function L(_){var A=_[b];if(null!==A){var d=_[u].read();null!==d&&(_[n]=null,_[b]=null,_[w]=null,A(S(d,!1)))}}function i(_){v.nextTick(L,_)}var c,o=k("./end-of-stream"),b=Symbol("lastResolve"),w=Symbol("lastReject"),C=Symbol("error"),T=Symbol("ended"),n=Symbol("lastPromise"),a=Symbol("handlePromise"),u=Symbol("stream"),p=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((l(c={get stream(){return this[u]},next:function(){var _=this,A=this[C];if(null!==A)return Promise.reject(A);if(this[T])return Promise.resolve(S(void 0,!0));if(this[u].destroyed)return new Promise(function(D,P){v.nextTick(function(){_[C]?P(_[C]):D(S(void 0,!0))})});var d,g=this[n];if(g)d=new Promise(function f(_,A){return function(d,g){_.then(function(){return A[T]?void d(S(void 0,!0)):void A[a](d,g)},g)}}(g,this));else{var O=this[u].read();if(null!==O)return Promise.resolve(S(O,!1));d=new Promise(this[a])}return this[n]=d,d}},Symbol.asyncIterator,function(){return this}),l(c,"return",function(){var _=this;return new Promise(function(A,d){_[u].destroy(null,function(g){return g?void d(g):void A(S(void 0,!0))})})}),c),p);I.exports=function(_){var A,d=Object.create(h,(l(A={},u,{value:_,writable:!0}),l(A,b,{value:null,writable:!0}),l(A,w,{value:null,writable:!0}),l(A,C,{value:null,writable:!0}),l(A,T,{value:_._readableState.endEmitted,writable:!0}),l(A,a,{value:function(g,O){var D=d[u].read();D?(d[n]=null,d[b]=null,d[w]=null,g(S(D,!1))):(d[b]=g,d[w]=O)},writable:!0}),A));return d[n]=null,o(_,function(g){if(g&&"ERR_STREAM_PREMATURE_CLOSE"!==g.code){var O=d[w];return null!==O&&(d[n]=null,d[b]=null,d[w]=null,O(g)),void(d[C]=g)}var D=d[b];null!==D&&(d[n]=null,d[b]=null,d[w]=null,D(S(void 0,!0))),d[T]=!0}),_.on("readable",i.bind(null,d)),d}}).call(this)}).call(this,k("_process"))},{"./end-of-stream":24,_process:12}],22:[function(k,I){"use strict";function v(n,a){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(n);a&&(p=p.filter(function(h){return Object.getOwnPropertyDescriptor(n,h).enumerable})),u.push.apply(u,p)}return u}function S(n,a,u){return a in n?Object.defineProperty(n,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[a]=u,n}function i(n,a){for(var u,p=0;p<a.length;p++)(u=a[p]).enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(n,u.key,u)}function c(n,a,u){b.prototype.copy.call(n,a,u)}var b=k("buffer").Buffer,C=k("util").inspect,T=C&&C.custom||"inspect";I.exports=function(){function n(){(function L(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")})(this,n),this.head=null,this.tail=null,this.length=0}return function f(n,a,u){a&&i(n.prototype,a),u&&i(n,u)}(n,[{key:"push",value:function(a){var u={data:a,next:null};0<this.length?this.tail.next=u:this.head=u,this.tail=u,++this.length}},{key:"unshift",value:function(a){var u={data:a,next:this.head};0===this.length&&(this.tail=u),this.head=u,++this.length}},{key:"shift",value:function(){if(0!==this.length){var a=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,a}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(a){if(0===this.length)return"";for(var u=this.head,p=""+u.data;u=u.next;)p+=a+u.data;return p}},{key:"concat",value:function(a){if(0===this.length)return b.alloc(0);for(var u=b.allocUnsafe(a>>>0),p=this.head,h=0;p;)c(p.data,u,h),h+=p.data.length,p=p.next;return u}},{key:"consume",value:function(a,u){var p;return a<this.head.data.length?(p=this.head.data.slice(0,a),this.head.data=this.head.data.slice(a)):p=a===this.head.data.length?this.shift():u?this._getString(a):this._getBuffer(a),p}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(a){var u=this.head,p=1,h=u.data;for(a-=h.length;u=u.next;){var _=u.data,A=a>_.length?_.length:a;if(h+=A===_.length?_:_.slice(0,a),0==(a-=A)){A===_.length?(++p,this.head=u.next?u.next:this.tail=null):(this.head=u,u.data=_.slice(A));break}++p}return this.length-=p,h}},{key:"_getBuffer",value:function(a){var u=b.allocUnsafe(a),p=this.head,h=1;for(p.data.copy(u),a-=p.data.length;p=p.next;){var _=p.data,A=a>_.length?_.length:a;if(_.copy(u,u.length-a,0,A),0==(a-=A)){A===_.length?(++h,this.head=p.next?p.next:this.tail=null):(this.head=p,p.data=_.slice(A));break}++h}return this.length-=h,u}},{key:T,value:function(a,u){return C(this,function l(n){for(var a,u=1;u<arguments.length;u++)a=null==arguments[u]?{}:arguments[u],u%2?v(Object(a),!0).forEach(function(p){S(n,p,a[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach(function(p){Object.defineProperty(n,p,Object.getOwnPropertyDescriptor(a,p))});return n}({},u,{depth:0,customInspect:!1}))}}]),n}()},{buffer:3,util:2}],23:[function(k,I){(function(v){(function(){"use strict";function l(i,f){L(i,f),S(i)}function S(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}function L(i,f){i.emit("error",f)}I.exports={destroy:function(i,f){var c=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(f?f(i):i&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,v.nextTick(L,this,i)):v.nextTick(L,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(w){!f&&w?c._writableState?c._writableState.errorEmitted?v.nextTick(S,c):(c._writableState.errorEmitted=!0,v.nextTick(l,c,w)):v.nextTick(l,c,w):f?(v.nextTick(S,c),f(w)):v.nextTick(S,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(i,f){var c=i._readableState,o=i._writableState;c&&c.autoDestroy||o&&o.autoDestroy?i.destroy(f):i.emit("error",f)}}}).call(this)}).call(this,k("_process"))},{_process:12}],24:[function(k,I){"use strict";function l(){}var i=k("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;I.exports=function L(f,c,o){if("function"==typeof c)return L(f,null,c);c||(c={}),o=function v(f){var c=!1;return function(){if(!c){c=!0;for(var o=arguments.length,b=Array(o),w=0;w<o;w++)b[w]=arguments[w];f.apply(this,b)}}}(o||l);var b=c.readable||!1!==c.readable&&f.readable,w=c.writable||!1!==c.writable&&f.writable,C=function(){f.writable||n()},T=f._writableState&&f._writableState.finished,n=function(){w=!1,T=!0,b||o.call(f)},a=f._readableState&&f._readableState.endEmitted,u=function(){b=!1,a=!0,w||o.call(f)},p=function(A){o.call(f,A)},h=function(){var A;return b&&!a?(f._readableState&&f._readableState.ended||(A=new i),o.call(f,A)):w&&!T?(f._writableState&&f._writableState.ended||(A=new i),o.call(f,A)):void 0},_=function(){f.req.on("finish",n)};return function S(f){return f.setHeader&&"function"==typeof f.abort}(f)?(f.on("complete",n),f.on("abort",h),f.req?_():f.on("request",_)):w&&!f._writableState&&(f.on("end",C),f.on("close",C)),f.on("end",u),f.on("finish",n),!1!==c.error&&f.on("error",p),f.on("close",h),function(){f.removeListener("complete",n),f.removeListener("abort",h),f.removeListener("request",_),f.req&&f.req.removeListener("finish",n),f.removeListener("end",C),f.removeListener("close",C),f.removeListener("finish",n),f.removeListener("end",u),f.removeListener("error",p),f.removeListener("close",h)}}},{"../../../errors":15}],25:[function(k,I){I.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(k,I){"use strict";function l(T){if(T)throw T}function i(T){T()}function f(T,n){return T.pipe(n)}var o,b=k("../../../errors").codes,w=b.ERR_MISSING_ARGS,C=b.ERR_STREAM_DESTROYED;I.exports=function(){for(var T=arguments.length,n=Array(T),a=0;a<T;a++)n[a]=arguments[a];var u=function c(T){return T.length&&"function"==typeof T[T.length-1]?T.pop():l}(n);if(Array.isArray(n[0])&&(n=n[0]),2>n.length)throw new w("streams");var p,h=n.map(function(_,A){var d=A<n.length-1;return function L(T,n,a,u){u=function v(T){var n=!1;return function(){n||(n=!0,T.apply(void 0,arguments))}}(u);var p=!1;T.on("close",function(){p=!0}),void 0===o&&(o=k("./end-of-stream")),o(T,{readable:n,writable:a},function(_){return _?u(_):(p=!0,void u())});var h=!1;return function(_){if(!p)return h?void 0:(h=!0,function S(T){return T.setHeader&&"function"==typeof T.abort}(T)?T.abort():"function"==typeof T.destroy?T.destroy():void u(_||new C("pipe")))}}(_,d,0<A,function(g){p||(p=g),g&&h.forEach(i),d||(h.forEach(i),u(p))})});return n.reduce(f)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(k,I){"use strict";var l=k("../../../errors").codes.ERR_INVALID_OPT_VALUE;I.exports={getHighWaterMark:function(S,L,i,f){var c=function v(S,L,i){return null==S.highWaterMark?L?S[i]:null:S.highWaterMark}(L,f,i);if(null!=c){if(!isFinite(c)||ot(c)!==c||0>c)throw new l(f?i:"highWaterMark",c);return ot(c)}return S.objectMode?16:16384}}},{"../../../errors":15}],28:[function(k,I){I.exports=k("events").EventEmitter},{events:7}],29:[function(k,I,v){(v=I.exports=k("./lib/_stream_readable.js")).Stream=v,v.Readable=v,v.Writable=k("./lib/_stream_writable.js"),v.Duplex=k("./lib/_stream_duplex.js"),v.Transform=k("./lib/_stream_transform.js"),v.PassThrough=k("./lib/_stream_passthrough.js"),v.finished=k("./lib/internal/streams/end-of-stream.js"),v.pipeline=k("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(k,I,v){function l(f,c){for(var o in f)c[o]=f[o]}function S(f,c,o){return i(f,c,o)}var L=k("buffer"),i=L.Buffer;i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?I.exports=L:(l(L,v),v.Buffer=S),S.prototype=Object.create(i.prototype),l(i,S),S.from=function(f,c,o){if("number"==typeof f)throw new TypeError("Argument must not be a number");return i(f,c,o)},S.alloc=function(f,c,o){if("number"!=typeof f)throw new TypeError("Argument must be a number");var b=i(f);return void 0===c?b.fill(0):"string"==typeof o?b.fill(c,o):b.fill(c),b},S.allocUnsafe=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return i(f)},S.allocUnsafeSlow=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return L.SlowBuffer(f)}},{buffer:3}],31:[function(k,I,v){"use strict";function L(h){var _;switch(this.encoding=function S(h){var _=function l(h){if(!h)return"utf8";for(var _;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(_)return;h=(""+h).toLowerCase(),_=!0}}(h);if("string"!=typeof _&&(u.isEncoding===p||!p(h)))throw new Error("Unknown encoding: "+h);return _||h}(h),this.encoding){case"utf16le":this.text=b,this.end=w,_=4;break;case"utf8":this.fillLast=o,_=4;break;case"base64":this.text=C,this.end=T,_=3;break;default:return this.write=n,void(this.end=a)}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(_)}function i(h){return 127>=h?0:h>>5==6?2:h>>4==14?3:h>>3==30?4:h>>6==2?-1:-2}function o(h){var _=this.lastTotal-this.lastNeed,A=function c(h,_){if(128!=(192&_[0]))return h.lastNeed=0,"\ufffd";if(1<h.lastNeed&&1<_.length){if(128!=(192&_[1]))return h.lastNeed=1,"\ufffd";if(2<h.lastNeed&&2<_.length&&128!=(192&_[2]))return h.lastNeed=2,"\ufffd"}}(this,h);return void 0===A?this.lastNeed<=h.length?(h.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(h.copy(this.lastChar,_,0,h.length),void(this.lastNeed-=h.length)):A}function b(h,_){if((h.length-_)%2==0){var A=h.toString("utf16le",_);if(A){var d=A.charCodeAt(A.length-1);if(55296<=d&&56319>=d)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",_,h.length-1)}function w(h){var _=h&&h.length?this.write(h):"";return this.lastNeed?_+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):_}function C(h,_){var A=(h.length-_)%3;return 0==A?h.toString("base64",_):(this.lastNeed=3-A,this.lastTotal=3,1==A?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",_,h.length-A))}function T(h){var _=h&&h.length?this.write(h):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function n(h){return h.toString(this.encoding)}function a(h){return h&&h.length?this.write(h):""}var u=k("safe-buffer").Buffer,p=u.isEncoding||function(h){switch((h=""+h)&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};v.StringDecoder=L,L.prototype.write=function(h){if(0===h.length)return"";var _,A;if(this.lastNeed){if(void 0===(_=this.fillLast(h)))return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<h.length?_?_+this.text(h,A):this.text(h,A):_||""},L.prototype.end=function(h){var _=h&&h.length?this.write(h):"";return this.lastNeed?_+"\ufffd":_},L.prototype.text=function(h,_){var A=function f(h,_,A){var d=_.length-1;if(d<A)return 0;var g=i(_[d]);return 0<=g?(0<g&&(h.lastNeed=g-1),g):--d<A||-2===g?0:0<=(g=i(_[d]))?(0<g&&(h.lastNeed=g-2),g):--d<A||-2===g?0:0<=(g=i(_[d]))?(0<g&&(2===g?g=0:h.lastNeed=g-3),g):0}(this,h,_);if(!this.lastNeed)return h.toString("utf8",_);this.lastTotal=A;var d=h.length-(A-this.lastNeed);return h.copy(this.lastChar,0,d),h.toString("utf8",_,d)},L.prototype.fillLast=function(h){return this.lastNeed<=h.length?(h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),void(this.lastNeed-=h.length))}},{"safe-buffer":30}],32:[function(k,I){(function(v){(function(){function l(S){try{if(!v.localStorage)return!1}catch{return!1}var L=v.localStorage[S];return null!=L&&"true"===(L+"").toLowerCase()}I.exports=function(S,L){if(l("noDeprecation"))return S;var f=!1;return function i(){if(!f){if(l("throwDeprecation"))throw new Error(L);l("traceDeprecation")?console.trace(L):console.warn(L),f=!0}return S.apply(this,arguments)}}}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],"/":[function(k,I){function v(T){return T.replace(/a=ice-options:trickle\s\n/g,"")}const S=k("debug")("simple-peer"),L=k("get-browser-rtc"),i=k("randombytes"),f=k("readable-stream"),c=k("queue-microtask"),o=k("err-code"),{Buffer:b}=k("buffer"),w=65536;class C extends f.Duplex{constructor(n){if(super(n=Object.assign({allowHalfOpen:!1},n)),this._id=i(4).toString("hex").slice(0,7),this._debug("new peer %o",n),this.channelName=n.initiator?n.channelName||i(20).toString("hex"):null,this.initiator=n.initiator||!1,this.channelConfig=n.channelConfig||C.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},C.config,n.config),this.offerOptions=n.offerOptions||{},this.answerOptions=n.answerOptions||{},this.sdpTransform=n.sdpTransform||(a=>a),this.streams=n.streams||(n.stream?[n.stream]:[]),this.trickle=void 0===n.trickle||n.trickle,this.allowHalfTrickle=void 0!==n.allowHalfTrickle&&n.allowHalfTrickle,this.iceCompleteTimeout=n.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=n.wrtc&&"object"==typeof n.wrtc?n.wrtc:L(),!this._wrtc)throw o(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(a){return void this.destroy(o(a,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=a=>{this._onIceCandidate(a)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(a=>{this.destroy(o(a,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=a=>{this._setupData(a)},this.streams&&this.streams.forEach(a=>{this.addStream(a)}),this._pc.ontrack=a=>{this._onTrack(a)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(n){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof n)try{n=JSON.parse(n)}catch{n={}}this._debug("signal()"),n.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),n.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(n.transceiverRequest.kind,n.transceiverRequest.init)),n.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(n.candidate):this._pendingCandidates.push(n.candidate)),n.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(n)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(a=>{this._addIceCandidate(a)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(a=>{this.destroy(o(a,"ERR_SET_REMOTE_DESCRIPTION"))}),n.sdp||n.candidate||n.renegotiate||n.transceiverRequest||this.destroy(o(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(n){const a=new this._wrtc.RTCIceCandidate(n);this._pc.addIceCandidate(a).catch(u=>{!a.address||a.address.endsWith(".local")?function l(T){console.warn(T)}("Ignoring unsupported ICE candidate."):this.destroy(o(u,"ERR_ADD_ICE_CANDIDATE"))})}send(n){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(n)}}addTransceiver(n,a){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(n,a),this._needsNegotiation()}catch(u){this.destroy(o(u,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:n,init:a}})}}addStream(n){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),n.getTracks().forEach(a=>{this.addTrack(a,n)})}}addTrack(n,a){if(this.destroying)return;if(this.destroyed)throw o(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const u=this._senderMap.get(n)||new Map;let p=u.get(a);if(p)throw p.removed?o(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):o(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");p=this._pc.addTrack(n,a),u.set(a,p),this._senderMap.set(n,u),this._needsNegotiation()}replaceTrack(n,a,u){if(this.destroying)return;if(this.destroyed)throw o(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const p=this._senderMap.get(n),h=p?p.get(u):null;if(!h)throw o(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");a&&this._senderMap.set(a,p),null==h.replaceTrack?this.destroy(o(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):h.replaceTrack(a)}removeTrack(n,a){if(this.destroying)return;if(this.destroyed)throw o(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const u=this._senderMap.get(n),p=u?u.get(a):null;if(!p)throw o(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{p.removed=!0,this._pc.removeTrack(p)}catch(h){"NS_ERROR_UNEXPECTED"===h.name?this._sendersAwaitingStable.push(p):this.destroy(o(h,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(n){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),n.getTracks().forEach(a=>{this.removeTrack(a,n)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,c(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw o(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(n){this._destroy(n,()=>{})}_destroy(n,a){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",n&&(n.message||n)),c(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",n&&(n.message||n)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,n&&this.emit("error",n),this.emit("close"),a()}))}_setupData(n){if(!n.channel)return this.destroy(o(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=n.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=w),this.channelName=this._channel.label,this._channel.onmessage=u=>{this._onChannelMessage(u)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=u=>{const p=u.error instanceof Error?u.error:new Error(`Datachannel error: ${u.message} ${u.filename}:${u.lineno}:${u.colno}`);this.destroy(o(p,"ERR_DATA_CHANNEL"))};let a=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(a&&this._onChannelClose(),a=!0):a=!1},5e3)}_read(){}_write(n,a,u){if(this.destroyed)return u(o(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(n)}catch(p){return this.destroy(o(p,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>w?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=u):u(null)}else this._debug("write before connect"),this._chunk=n,this._cb=u}_onFinish(){if(!this.destroyed){const n=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?n():this.once("connect",n)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(n=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(n.sdp=v(n.sdp)),n.sdp=this.sdpTransform(n.sdp);const a=()=>{if(!this.destroyed){const u=this._pc.localDescription||n;this._debug("signal"),this.emit("signal",{type:u.type,sdp:u.sdp})}};this._pc.setLocalDescription(n).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?a():this.once("_iceComplete",a))}).catch(u=>{this.destroy(o(u,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(n=>{this.destroy(o(n,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(n=>{n.mid||!n.sender.track||n.requested||(n.requested=!0,this.addTransceiver(n.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(n=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(n.sdp=v(n.sdp)),n.sdp=this.sdpTransform(n.sdp);const a=()=>{if(!this.destroyed){const u=this._pc.localDescription||n;this._debug("signal"),this.emit("signal",{type:u.type,sdp:u.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(n).then(()=>{this.destroyed||(this.trickle||this._iceComplete?a():this.once("_iceComplete",a))}).catch(u=>{this.destroy(o(u,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(n=>{this.destroy(o(n,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(o(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const n=this._pc.iceConnectionState,a=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",n,a),this.emit("iceStateChange",n,a),("connected"===n||"completed"===n)&&(this._pcReady=!0,this._maybeReady()),"failed"===n&&this.destroy(o(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===n&&this.destroy(o(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(n){const a=u=>("[object Array]"===Object.prototype.toString.call(u.values)&&u.values.forEach(p=>{Object.assign(u,p)}),u);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(u=>{const p=[];u.forEach(h=>{p.push(a(h))}),n(null,p)},u=>n(u)):0<this._pc.getStats.length?this._pc.getStats(u=>{if(this.destroyed)return;const p=[];u.result().forEach(h=>{const _={};h.names().forEach(A=>{_[A]=h.stat(A)}),_.id=h.id,_.type=h.type,_.timestamp=h.timestamp,p.push(a(_))}),n(null,p)},u=>n(u)):n(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const n=()=>{this.destroyed||this.getStats((a,u)=>{if(this.destroyed)return;a&&(u=[]);const p={},h={},_={};let A=!1;u.forEach(g=>{("remotecandidate"===g.type||"remote-candidate"===g.type)&&(p[g.id]=g),("localcandidate"===g.type||"local-candidate"===g.type)&&(h[g.id]=g),("candidatepair"===g.type||"candidate-pair"===g.type)&&(_[g.id]=g)});const d=g=>{A=!0;let O=h[g.localCandidateId];O&&(O.ip||O.address)?(this.localAddress=O.ip||O.address,this.localPort=+O.port):O&&O.ipAddress?(this.localAddress=O.ipAddress,this.localPort=+O.portNumber):"string"==typeof g.googLocalAddress&&(O=g.googLocalAddress.split(":"),this.localAddress=O[0],this.localPort=+O[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let D=p[g.remoteCandidateId];D&&(D.ip||D.address)?(this.remoteAddress=D.ip||D.address,this.remotePort=+D.port):D&&D.ipAddress?(this.remoteAddress=D.ipAddress,this.remotePort=+D.portNumber):"string"==typeof g.googRemoteAddress&&(D=g.googRemoteAddress.split(":"),this.remoteAddress=D[0],this.remotePort=+D[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(u.forEach(g=>{"transport"===g.type&&g.selectedCandidatePairId&&d(_[g.selectedCandidatePairId]),("googCandidatePair"===g.type&&"true"===g.googActiveConnection||("candidatepair"===g.type||"candidate-pair"===g.type)&&g.selected)&&d(g)}),A||Object.keys(_).length&&!Object.keys(h).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(O){return this.destroy(o(O,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const g=this._cb;this._cb=null,g(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(n,100)})};n()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>w)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(n=>{this._pc.removeTrack(n),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(n){this.destroyed||(n.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:n.candidate.candidate,sdpMLineIndex:n.candidate.sdpMLineIndex,sdpMid:n.candidate.sdpMid}}):!n.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),n.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(n){if(this.destroyed)return;let a=n.data;a instanceof ArrayBuffer&&(a=b.from(a)),this.push(a)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const n=this._cb;this._cb=null,n(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(n){this.destroyed||n.streams.forEach(a=>{this._debug("on track"),this.emit("track",n.track,a),this._remoteTracks.push({track:n.track,stream:a}),this._remoteStreams.some(u=>u.id===a.id)||(this._remoteStreams.push(a),c(()=>{this._debug("on stream"),this.emit("stream",a)}))})}_debug(){const n=[].slice.call(arguments);n[0]="["+this._id+"] "+n[0],S.apply(null,n)}}C.WEBRTC_SUPPORT=!!L(),C.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},C.channelConfig={},I.exports=C},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")});